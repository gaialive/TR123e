<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TR123e - EMCT Computing Final Project: zdf_moogladder_v2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TR123e - EMCT Computing Final Project<span id="projectnumber">&#160;Version 1.0</span>
   </div>
   <div id="projectbrief">Research Project Translation from gen~ to embedded Moog synth</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('zdf__moogladder__v2_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">zdf_moogladder_v2.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Zero-Delay Feedback Moog Ladder Filter Implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
</div>
<p><a href="zdf__moogladder__v2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:ZDFMoogLadderFilter" id="r_ZDFMoogLadderFilter"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_z_d_f_moog_ladder_filter.html">ZDFMoogLadderFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Efficient ZDF Moog ladder filter implementation using Stilson/Smith methodology.  <a href="class_z_d_f_moog_ladder_filter.html#details">More...</a><br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Zero-Delay Feedback Moog Ladder Filter Implementation. </p>
<p>This module implements a sophisticated digital emulation of the iconic Moog transistor ladder filter using Zero-Delay Feedback (ZDF) topology. The implementation provides analog-accurate frequency response, self-oscillation behavior, and nonlinear saturation characteristics while maintaining numerical stability across all parameter ranges.</p>
<p>@historical_significance The Moog ladder filter, invented by Robert Moog in 1965, revolutionized electronic music by providing the first practical voltage-controlled filter with musical resonance characteristics. Its distinctive 24dB/octave roll-off and warm self-oscillation became the defining sonic signature of analog synthesis, influencing virtually every subsequent synthesizer design and establishing the paradigm for subtractive synthesis.</p>
<p>@circuit_theory_background The original Moog ladder filter consists of four identical transconductance amplifier stages connected in series, with a feedback path from the output to the input. Each stage contributes 6dB/octave of attenuation, creating the characteristic 24dB/octave low-pass response. The feedback path introduces resonance, and at high feedback levels, the filter becomes unstable and self-oscillates, producing pure sinusoidal tones.</p>
<p>@zero_delay_feedback_theory Traditional digital filter implementations suffer from the unit delay inherent in recursive feedback structures, which creates frequency response errors and prevents accurate analog modeling. Zero-Delay Feedback (ZDF) topology solves this by:</p>
<ol type="1">
<li><b>Implicit Integration</b>: Computing current output based on current input</li>
<li><b>Algebraic Loops</b>: Solving feedback equations simultaneously</li>
<li><b>Trapezoidal Integration</b>: Using Tustin transform for bilinear frequency mapping</li>
<li><b>State Variable Formulation</b>: Maintaining internal state for memory elements</li>
</ol>
<p>@mathematical_foundation The ZDF implementation uses the Trapezoidal Integrator (TPT) structure:</p>
<p>For each filter stage:</p><ul>
<li>v[n] = (u[n] - z[n]) / (1 + G)</li>
<li>y[n] = v[n] + z[n] <br  />
</li>
<li>z[n+1] = y[n] + v[n]</li>
</ul>
<p>Where:</p><ul>
<li>G = tan(π × fc / fs) (frequency warping factor)</li>
<li>v[n] = stage input after feedback subtraction</li>
<li>y[n] = stage output</li>
<li>z[n] = integrator state variable</li>
<li>u[n] = input to current stage</li>
</ul>
<p>@frequency_warping_compensation The G parameter implements frequency pre-warping to compensate for bilinear transform frequency compression. This ensures that the digital filter's cutoff frequency exactly matches the analog prototype at the specified frequency, providing sample-rate independent behavior and accurate frequency response.</p>
<p>@nonlinear_modeling The implementation includes optional nonlinear feedback processing using hyperbolic tangent (tanh) saturation to model the soft-clipping characteristics of the original transistor circuitry. This nonlinearity contributes to the warm, musical character of the Moog filter, particularly during self-oscillation.</p>
<p>@performance_characteristics</p><ul>
<li>Computational complexity: O(1) per sample (4 stages × constant operations)</li>
<li>Memory footprint: 64 bytes (8 state variables × 8 bytes each)</li>
<li>Numerical stability: Stable across all parameter ranges and sample rates</li>
<li>Frequency accuracy: Exact cutoff frequency matching with pre-warping</li>
<li>Dynamic range: Full 24-bit precision with proper gain staging</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>[Original algorithm by Vadim Zavalishin, implementation adapted] </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025/03/10 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 (Enhanced with drive control and multiple filter modes)</dd></dl>
<p>@references</p><ul>
<li>"The Art of VA Filter Design" by Vadim Zavalishin (Native Instruments)</li>
<li>"DAFX: Digital Audio Effects" by Udo Zölzer (Chapter 2: Filters)</li>
<li>"Analog Days: The Invention and Impact of the Moog Synthesizer" by Pinch &amp; Trocco</li>
<li>"Electronic Music Circuits" by Barry Klein</li>
<li>IEEE Transactions on Audio, Speech, and Language Processing papers on VA modeling</li>
</ul>
<p>@patents_and_licensing The original Moog filter circuit patents have expired, but specific digital implementation techniques may be subject to intellectual property considerations. This implementation is based on published academic research and open-source algorithms available in the public domain. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="zdf__moogladder__v2_8h.html">zdf_moogladder_v2.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
